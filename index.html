<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deepfake Video Detector</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Used Custom loading animation */
        .loading-spinner {
            border: 4px solid #e5e7eb;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // Icon Components 
        const Camera = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/>
                <circle cx="12" cy="13" r="3"/>
            </svg>
        );

        const AlertTriangle = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                <line x1="12" y1="9" x2="12" y2="13"/>
                <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
        );

        const Check = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="20,6 9,17 4,12"/>
            </svg>
        );

        const Video = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="23,7 16,12 23,17 23,7"/>
                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
            </svg>
        );

        const Info = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="16" x2="12" y2="12"/>
                <line x1="12" y1="8" x2="12.01" y2="8"/>
            </svg>
        );

        // My main app
        function DeepfakeDetector() {
            const [videoSrc, setVideoSrc] = useState(null);
            const [isAnalyzing, setIsAnalyzing] = useState(false);
            const [analysisResults, setAnalysisResults] = useState(null);
            const [webcamActive, setWebcamActive] = useState(false);
            const [showInfo, setShowInfo] = useState(false);
            
            const videoRef = useRef(null);
            const webcamRef = useRef(null);
            const mediaStreamRef = useRef(null);

            // This should Handle file upload
            const handleFileUpload = (event) => {
                const file = event.target.files[0];
                if (file) {
                    const url = URL.createObjectURL(file);
                    setVideoSrc(url);
                    setAnalysisResults(null);
                }
            };

            // Toggle webcam for my whoever is using it
            const toggleWebcam = async () => {
                if (webcamActive) {
                    if (mediaStreamRef.current) {
                        mediaStreamRef.current.getTracks().forEach(track => track.stop());
                    }
                    setWebcamActive(false);
                    setVideoSrc(null);
                } else {
                    try {
                        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                        webcamRef.current.srcObject = stream;
                        mediaStreamRef.current = stream;
                        setWebcamActive(true);
                        setVideoSrc('webcam');
                        setAnalysisResults(null);
                    } catch (err) {
                        alert("Error accessing webcam: " + err.message);
                    }
                }
            };

            // Analyze video for deepfake signs{}
            const analyzeVideo = () => {
                setIsAnalyzing(true);
                
                // Simulate analysis with timeout - will use ML models here when i launch my app
                setTimeout(() => {
                    const fakeScores = {
                        faceInconsistencies: Math.random() * 100,
                        blinkPatterns: Math.random() * 100,
                        artificialBoundaries: Math.random() * 100,
                        audioVisualSync: Math.random() * 100
                    };
                    
                    // Calculate overall score (weighted)
                    const overallScore = (
                        fakeScores.faceInconsistencies * 0.3 + 
                        fakeScores.blinkPatterns * 0.2 + 
                        fakeScores.artificialBoundaries * 0.25 + 
                        fakeScores.audioVisualSync * 0.25
                    );
                    
                    setAnalysisResults({
                        isLikelyFake: overallScore > 50,
                        confidenceScore: overallScore,
                        metrics: fakeScores
                    });
                    
                    setIsAnalyzing(false);
                }, 3000);
            };

            // Clean up on unmount
            useEffect(() => {
                return () => {
                    if (mediaStreamRef.current) {
                        mediaStreamRef.current.getTracks().forEach(track => track.stop());
                    }
                };
            }, []);

            return (
                <div className="flex flex-col min-h-screen bg-gradient-to-br from-blue-100 via-white to-purple-100 p-4">
                    <header className="mb-8">
                        <div className="flex items-center justify-between">
                            <h1 className="text-2xl font-bold text-blue-800 flex items-center gap-2">
    <span>üïµÔ∏è‚Äç‚ôÇÔ∏è</span> Deepfake Video Detector
</h1>
                            <button 
                                onClick={() => setShowInfo(!showInfo)}
                                className="flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors"
                            >
                                <Info size={16} />
                            </button>
                        </div>

                        {showInfo && (
                            <div className="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200">
                                <h2 className="font-semibold mb-2 text-blue-800">About Deepfake Detection</h2>
                                <p className="text-sm text-blue-700">
                                    This tool analyzes videos for signs of deepfake manipulation. It checks for facial inconsistencies, 
                                    unnatural blinking patterns, artificial boundaries, and audio-visual desynchronization. While helpful, 
                                    no automated tool is 100% accurate, especially as deepfake technology advances.
                                </p>
                            </div>
                        )}
                    </header>

                    <main className="flex-grow flex flex-col lg:flex-row gap-6">
                        <div className="w-full lg:w-1/2 bg-white/80 backdrop-blur-md rounded-xl shadow-2xl p-8 flex flex-col">
                            <h2 className="text-lg font-semibold mb-4 text-gray-800">Video Input</h2>
                            
                            <div className="flex gap-2 mb-4">
                                <label className="flex-1">
                                    <input 
                                        type="file" 
                                        accept="video/*" 
                                        onChange={handleFileUpload}
                                        className="hidden"
                                    />
                                    <div className="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg text-center cursor-pointer hover:scale-105 hover:shadow-lg transition-all flex items-center justify-center font-medium">
                                        <Video size={18} className="mr-2" />
                                        Upload Video
                                    </div>
                                </label>
                                
                                <button 
                                    onClick={toggleWebcam} 
                                    className={`flex-1 flex items-center justify-center py-3 px-4 rounded-lg text-center font-medium transition-all ${
                                        webcamActive 
                                            ? 'bg-gradient-to-r from-red-600 to-pink-600 hover:scale-105 hover:shadow-lg text-white' 
                                            : 'bg-gradient-to-r from-blue-600 to-purple-600 hover:scale-105 hover:shadow-lg text-white'
                                    }`}
                                >
                                    <Camera size={18} className="mr-2" />
                                    {webcamActive ? 'Stop Webcam' : 'Use Webcam'}
                                </button>
                            </div>
                            
                            <div className="flex-grow bg-gray-100 rounded-xl flex items-center justify-center overflow-hidden min-h-64 border-2 border-dashed border-gray-300 shadow-lg">
                                {videoSrc === 'webcam' ? (
                                    <video 
                                        ref={webcamRef} 
                                        autoPlay 
                                        muted 
                                        playsInline
                                        className="w-full h-full object-cover rounded-lg"
                                    />
                                ) : videoSrc ? (
                                    <video 
                                        ref={videoRef}
                                        src={videoSrc} 
                                        controls 
                                        className="w-full h-full object-contain rounded-lg"
                                    />
                                ) : (
                                    <div className="text-gray-500 text-center p-6">
                                        <Video size={48} className="mx-auto mb-4 text-gray-400" />
                                        <p className="text-lg font-medium mb-2">No video selected</p>
                                        <p className="text-sm">Upload a video file or enable webcam to begin analysis(random results until main launch)</p>
                                    </div>
                                )}
                            </div>
                            
                            <button 
                                onClick={analyzeVideo}
                                disabled={!videoSrc || isAnalyzing}
                                className={`mt-4 py-3 px-6 rounded-lg font-medium transition-all ${
                                    !videoSrc || isAnalyzing 
                                        ? 'bg-gray-300 text-gray-500 cursor-not-allowed' 
                                        : 'bg-green-600 text-white hover:bg-green-700 hover:shadow-lg transform hover:scale-105'
                                }`}
                            >
                                {isAnalyzing ? (
                                    <div className="flex items-center justify-center">
                                        <div className="loading-spinner mr-3"></div>
                                        Analyzing...
                                    </div>
                                ) : (
                                    'Analyze for Deepfakes'
                                )}
                            </button>
                        </div>
                        
                        <div className="w-full lg:w-1/2 bg-white/80 backdrop-blur-md rounded-xl shadow-2xl p-8 flex flex-col">
                            <h2 className="text-lg font-semibold mb-4 text-gray-800">Analysis Results</h2>
                            
                            {isAnalyzing ? (
                                <div className="flex-grow flex flex-col items-center justify-center">
                                    <div className="loading-spinner mb-6"></div>
                                    <p className="text-lg font-medium text-gray-700 mb-2">Analyzing video...</p>
                                    <p className="text-sm text-gray-500">Checking for deepfake indicators</p>
                                </div>
                            ) : analysisResults ? (
                                <div className="flex-grow flex flex-col">
                                    <div className={`p-4 rounded-lg mb-6 flex items-center border-2 ${
                                        analysisResults.isLikelyFake 
                                            ? 'bg-red-50 text-red-800 border-red-200' 
                                            : 'bg-green-50 text-green-800 border-green-200'
                                    }`}>
                                        {analysisResults.isLikelyFake ? (
                                            <AlertTriangle size={24} className="mr-3 flex-shrink-0" />
                                        ) : (
                                            <Check size={24} className="mr-3 flex-shrink-0" />
                                        )}
                                        <div>
                                            <h3 className="font-bold text-lg">
                                                {analysisResults.isLikelyFake 
                                                    ? 'Potential Deepfake Detected' 
                                                    : 'Likely Authentic Video'}
                                            </h3>
                                            <p className="text-sm opacity-90">
                                                Confidence score: {Math.round(analysisResults.confidenceScore)}%
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <h3 className="font-semibold mb-4 text-gray-800">Detailed Metrics</h3>
                                    
                                    <div className="space-y-4 mb-6">
                                        {Object.entries(analysisResults.metrics).map(([key, value]) => {
                                            const formattedKey = key
                                                .replace(/([A-Z])/g, ' $1')
                                                .replace(/^./, (str) => str.toUpperCase());
                                            
                                            const riskLevel = value > 70 ? 'High' : value > 40 ? 'Medium' : 'Low';
                                            const barColor = value > 70 ? 'bg-red-500' : value > 40 ? 'bg-yellow-500' : 'bg-green-500';
                                            const textColor = value > 70 ? 'text-red-600' : value > 40 ? 'text-yellow-600' : 'text-green-600';
                                            
                                            return (
                                                <div key={key}>
                                                    <div className="flex justify-between mb-2">
                                                        <span className="font-medium text-gray-700">{formattedKey}</span>
                                                        <span className={`${textColor} font-medium`}>
                                                            {riskLevel} ({Math.round(value)}%)
                                                        </span>
                                                    </div>
                                                    <div className="w-full bg-gray-200 rounded-full h-3">
                                                        <div 
                                                            className={`${barColor} h-3 rounded-full transition-all duration-300`} 
                                                            style={{ width: `${value}%` }}
                                                        ></div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                    
                                    <div className="mt-auto p-4 bg-blue-50 rounded-lg border border-blue-200">
                                        <p className="font-medium mb-2 text-blue-800">Interpretation:</p>
                                        <p className="text-sm text-blue-700 mb-3">
                                            {analysisResults.isLikelyFake 
                                                ? "This video shows signs consistent with deepfake manipulation. The analysis found potential inconsistencies in facial features, unnatural blinking patterns, or audio-visual misalignment."
                                                : "This video appears authentic based on our analysis. No significant indicators of deepfake manipulation were detected."}
                                        </p>
                                        <p className="text-xs text-blue-600">
                                            <strong>Note:</strong> Deepfake detection technology is evolving. This analysis should be used as one data point among many when evaluating content authenticity.
                                        </p>
                                    </div>
                                </div>
                            ) : (
                                <div className="flex-grow flex flex-col items-center justify-center text-gray-500">
                                    <AlertTriangle size={48} className="mb-4 text-gray-400" />
                                    <p className="text-lg font-medium mb-2">No analysis performed yet</p>
                                    <p className="text-sm text-center">Upload a video and click "Analyze for Deepfakes" to begin</p>
                                </div>
                            )}
                        </div>
                    </main>
                    
                    <footer className="mt-8 text-center text-sm text-gray-500 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg py-4 shadow-md">
    <p>Deepfake Detector(prototype) ‚Ä¢ For educational purposes only</p>
</footer>
                </div>
            );
        }

        // I used this to render the app
        ReactDOM.render(<DeepfakeDetector />, document.getElementById('root'));
    </script>
</body>
</html>